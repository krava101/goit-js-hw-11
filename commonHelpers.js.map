{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".search-form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\niziToast.settings({\n  message: 'Sorry, there are no images matching your search query. Please try again!',\n  messageColor: '#fff',\n  backgroundColor: '#EF4040',\n  position: 'topRight'\n});\n\nconst searchParams = new URLSearchParams({\n  key: '41673326-36a35a0e0851ae97a957fbd95',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true'\n})\n\nconst loadImgs = (searchImg) => {\n  loader.classList.add(\"loader-active\");\n  gallery.textContent = \"\";\n  fetchImages(searchImg)\n    .then(res => !res.hits.length ? iziToast.show() : renderImages(res.hits))\n    .catch(err => alert(err))\n}\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  loadImgs(event.currentTarget.search.value);\n  event.currentTarget.reset();\n});\n\nfunction fetchImages(searchImg) {\n  return fetch(`https://pixabay.com/api/?${searchParams}&q=${searchImg}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      loader.classList.remove(\"loader-active\");\n      return response.json();\n    })\n}\n\nfunction renderImages(images) {\n  const str = images.reduce((acc, e) => acc + `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${e.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${e.webformatURL}\"\n          data-source=\"${e.largeImageURL}\"\n          alt=\"${e.tags}\"\n        />\n      </a>\n      <ul>\n        <li><b>Likes</b> ${e.likes}</li>\n        <li><b>Views</b> ${e.views}</li>\n        <li><b>Comments</b> ${e.comments}</li>\n        <li><b>Downloads</b> ${e.downloads}</li>\n      </ul>\n    </li>`, ''\n  );\n  gallery.insertAdjacentHTML(\"afterbegin\", str);\n  lightbox.refresh();\n}\n\nconst lboxOptions = {\n  captionsData: \"alt\",\n  captionDelay: 250\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', lboxOptions);\n\n"],"names":["form","gallery","loader","iziToast","searchParams","loadImgs","searchImg","fetchImages","res","renderImages","err","event","response","images","str","acc","e","lightbox","lboxOptions","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CC,EAAS,SAAS,CAChB,QAAS,2EACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UACZ,CAAC,EAED,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,MACd,CAAC,EAEKC,EAAYC,GAAc,CAC9BJ,EAAO,UAAU,IAAI,eAAe,EACpCD,EAAQ,YAAc,GACtBM,EAAYD,CAAS,EAClB,KAAKE,GAAQA,EAAI,KAAK,OAA2BC,EAAaD,EAAI,IAAI,EAAvCL,EAAS,MAA+B,EACvE,MAAMO,GAAO,MAAMA,CAAG,CAAC,CAC5B,EAEAV,EAAK,iBAAiB,SAAWW,GAAU,CACzCA,EAAM,eAAc,EACpBN,EAASM,EAAM,cAAc,OAAO,KAAK,EACzCA,EAAM,cAAc,OACtB,CAAC,EAED,SAASJ,EAAYD,EAAW,CAC9B,OAAO,MAAM,4BAA4BF,OAAkBE,GAAW,EACnE,KAAKM,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAAV,EAAO,UAAU,OAAO,eAAe,EAChCU,EAAS,MACtB,CAAK,CACL,CAEA,SAASH,EAAaI,EAAQ,CAC5B,MAAMC,EAAMD,EAAO,OAAO,CAACE,EAAKC,IAAMD,EAAM;AAAA;AAAA,sCAERC,EAAE;AAAA;AAAA;AAAA,iBAGvBA,EAAE;AAAA,yBACMA,EAAE;AAAA,iBACVA,EAAE;AAAA;AAAA;AAAA;AAAA,2BAIQA,EAAE;AAAA,2BACFA,EAAE;AAAA,8BACCA,EAAE;AAAA,+BACDA,EAAE;AAAA;AAAA,WAErB,EACZ,EACEf,EAAQ,mBAAmB,aAAca,CAAG,EAC5CG,EAAS,QAAO,CAClB,CAEA,MAAMC,EAAc,CAClB,aAAc,MACd,aAAc,GAChB,EAEMD,EAAW,IAAIE,EAAe,aAAcD,CAAW"}